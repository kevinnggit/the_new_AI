# Docker Compose Setup
version: '3.8'

services:
  # Backend (FastAPI)
  backend:
    build: ./backend
    container_name: ki_app_backend
    env_file:
      - ./backend/.env  # Umgebungsvariablen aus der .env
    ports:
      - "8000:8000"  # Port 8000 nach außen
    volumes:
      - ./backend/app:/code/app  # Code-Sync für Entwicklung

  # Frontend (Vue.js)
  frontend:
    build: ./frontend
    container_name: ki_app_frontend
    ports:
      - "5173:80"  # Nginx Port 80 wird zu 5173
    depends_on:
      - backend  # Backend erst starten
